<html>
<!-- Based on this tutorial: https://www.keycloak.org/docs/latest/securing_apps/#_javascript_adapter -->
<head>
    <script src="http://localhost:8080/auth/js/keycloak.js"></script>
    <script>
        var keycloak;
        function initKeycloak() {
            keycloak = new Keycloak();
            keycloak.init({
                flow: 'implicit'
            }).then(function(authenticated) {
                document.getElementById('status-authenticated').textContent = authenticated
            }).catch(function(exception) {
                document.getElementById('status-error').textContent = JSON.stringify(exception);
            });
        }
    </script>
</head>
<body onload="initKeycloak()">
<p>
    <h2>Actions</h2>
    <ul>
        <li><a href="javascript: keycloak.login()">Login</a></li>
    </ul>
</p>
<p>
    <h2>Status</h2>
    <dl>
        <dt>Authenticated</dt>
        <dd id="status-authenticated"></dd>
    </dl>
    <dl>
        <dt>Error</dt>
        <dd id="status-error"></dd>
    </dl>
</p>
</body>
</html>
